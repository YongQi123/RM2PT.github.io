---
layout: post
title: Eclipse Sirius
description: Sirius is an Eclipse project which allows you to easily create your own graphical modeling workbench by leveraging the Eclipse Modeling technologies, including EMF and GMF.It provides a generic workbench for model-based architecture engineering that could be easily tailored to fit specific needs.Based on a viewpoint approach, Sirius makes it possible to equip teams who have to deal with complex architectures on specific domains.
date: 2021-05-24 14:43:17.000000000 +08:00
type: post
typora-root-url: ../../../../rm2pt-website
img: /imgs/article-1.1-sirius-logo.png
categories: [EclipseMDA]
---

# BasicFamily Tutorial

This tutorial explains how to use Eclipse Sirius to create graphical editors for visually describing a family.

## **①使用EcoreTools创建BasicFamily元模型**（右键创建的项目设置运行配置）

![image-20210203125130793](/imgs/mda/image-20210203125130793-16316878013161-16316890338671.png)

## ②**运行建立好的**BasicFamily元模型，创建实例验证元模型

![image-20210203141257288](/imgs/mda/image-20210203141257288-16316890338682.png)

***tips***上图的图标改变是在建立BasicFamily时改变的，操作如下

![image-20210203141452769](/imgs/mda/image-20210203141452769-16316890338683.png)

## ③创建 Viewpoint Specification 项目

![image-20210203141634190](/imgs/mda/image-20210203141634190-16316890338684.png)

## ④双击viewpoint设置视点属性，如下

![image-20210203150352352](/imgs/mda/image-20210203150352352-16316890338685.png)

![image-20210203150720154](/imgs/mda/image-20210203150720154-16316890338686.png)

## ⑤打开项目的*MANIFEST.MF*文件，然后在“*必需插件*”列表添加定义元模型的插件

![image-20210203151116118](/imgs/mda/image-20210203151116118-16316890338687.png)

## ⑥在视点中添加图，并且关联定义此图使用的类型的*元模型*（定义图的属性） 如下

![image-20210203151639533](/imgs/mda/image-20210203151639533-16316884911474-16316890338688.png)

![image-20210203151943473](/imgs/mda/image-20210203151943473-16316884890913-16316890338689.png)

![image-20210203152344296](/imgs/mda/image-20210203152344296-16316884874272-163168903386810.png)

## ⑦在图中添加节点并设置属性

![image-20210203152421396](/imgs/mda/image-20210203152421396-163168903386811.png)

![image-20210203152727566](/imgs/mda/image-20210203152727566-163168903386812.png)

## ⑧为节点设置样式

![image-20210203153335638](/imgs/mda/image-20210203153335638-163168903386813.png)

![image-20210203153619356](/imgs/mda/image-20210203153619356-163168903386814.png)

![image-20210203153658426](/imgs/mda/image-20210203153658426-163168903386815.png)

![image-20210204151202568](/imgs/mda/image-20210204151202568-163168903386816.png)

## ⑨测试自己定义的图

![image-20210203153905404](/imgs/mda/image-20210203153905404-163168903386817.png)

![image-20210203153911741](/imgs/mda/image-20210203153911741-163168903386818.png)

![image-20210203153921892](/imgs/mda/image-20210203153921892-163168903386819.png)

![image-20210204150953663](/imgs/mda/image-20210204150953663-163168903386820.png)

## ⑩改善节点样式

![image-20210204150857311](/imgs/mda/image-20210204150857311-163168903386821.png)

![image-20210204151022387](/imgs/mda/image-20210204151022387-163168903386822.png)

## ⑪、添加基于关系的边

![image-20210204151241331](/imgs/mda/image-20210204151241331-163168903386823.png)

![image-20210204151312620](/imgs/mda/image-20210204151312620-163168903386824.png)

![image-20210204151405555](/imgs/mda/image-20210204151405555-163168903386925.png)

![image-20210204151417097](/imgs/mda/image-20210204151417097-163168903386926.png)

## ⑫、在调色板中添加可以创建元素的工具

![image-20210204151551084](/imgs/mda/image-20210204151551084-163168903386927.png)

![image-20210204151612828](/imgs/mda/image-20210204151612828.png)

![image-20210204151759152](/imgs/mda/image-20210204151759152-163168903386928.png)

## ⑬、定义由“创建节点”工具执行的操作

![image-20210204151946139](/imgs/mda/image-20210204151946139-163168903386930.png)

![image-20210204152020979](/imgs/mda/image-20210204152020979-163168903386929.png)

![image-20210204152050396](/imgs/mda/image-20210204152050396-163168903386931.png)

![image-20210204152118046](/imgs/mda/image-20210204152118046-163168903386933.png)

![image-20210204152159117](/imgs/mda/image-20210204152159117-163168903386932.png)

![image-20210204152236605](/imgs/mda/image-20210204152236605-163168903386934.png)

**效果如下**

![image-20210204152316406](/imgs/mda/image-20210204152316406-163168903386935.png)

## ⑭、边线创建工具

![image-20210204161850940](/imgs/mda/image-20210204161850940-163168903386936.png)

![image-20210204161911039](/imgs/mda/image-20210204161911039-163168903386937.png)

**然后定义每次用户单击该工具时将由该工具执行的操作。这些操作可以使用Sirius自动设置的四个变量：**

- **source：用户单击的第一个对象（他将创建的关系的源）**
- **target：用户单击的第二个对象（他将创建的关系的目标）**
- **sourceView：表示源的图形对象**
- **targetView：表示目标的图形对象**

![image-20210204162124778](/imgs/mda/image-20210204162124778-163168903386938.png)

![image-20210204162216315](/imgs/mda/image-20210204162216315-163168903386939.png)

![image-20210204162305349](/imgs/mda/image-20210204162305349-163168903386940.png)

![image-20210204162408811](/imgs/mda/image-20210204162408811-163168903386941.png)

**为了防止用户创建一个人与人或其子女之一的*父亲*关系，您可以添加前提条件表达式**

![image-20210204162636291](/imgs/mda/image-20210204162636291.png)

**此表达式使用两个新变量：**

- **preSource：用户首先单击的对象**
- **preTarget：光标下的对象**

## ⑮、重新连接边线工具

![image-20210204162907508](/imgs/mda/image-20210204162907508-163168903386942.png)

![image-20210204162937929](/imgs/mda/image-20210204162937929-163168903386943.png)

**该工具带有六个变量：**

- **源：当前附加到移动端的对象**

- **target：将要附加到移动端的对象**

- **sourceView：表示源的图形对象**

- **targetView：表示目标的图形对象**

- **element：连接到另一端的对象**

- **elementView：表示元素的图形对象**

  ![image-20210204163136108](/imgs/mda/image-20210204163136108-163168903386944.png)

## ⑯、删除元素工具

![image-20210204163541871](/imgs/mda/image-20210204163541871-163168903386945.png)

![image-20210204163554766](/imgs/mda/image-20210204163554766-163168903386946.png)

![image-20210204163644119](/imgs/mda/image-20210204163644119-163168903386948.png)

## ⑰、直接编辑标签工具

![image-20210204210642271](/imgs/mda/image-20210204210642271-163168903386947.png)

![image-20210204210658258](/imgs/mda/image-20210204210658258-163168903386949.png)

![image-20210204210727964](/imgs/mda/image-20210204210727964-163168903386950.png)

**效果如下**

![image-20210204211033848](/imgs/mda/image-20210204211033848-163168903386951.png)

## ⑱、风格定制

![image-20210204212453104](/imgs/mda/image-20210204212453104-163168903386952.png)

![image-20210204212505794](/imgs/mda/image-20210204212505794-163168903386953.png)

![image-20210204212604514](/imgs/mda/image-20210204212604514-163168903386954.png)

## ⑲、创建两个图层

![image-20210206154555138](/imgs/mda/image-20210206154555138-163168903386955.png)

![image-20210206154628502](/imgs/mda/image-20210206154628502-163168903387056.png)

![image-20210206154649158](/imgs/mda/image-20210206154649158-163168903387057.png)

**创建第二个*图层，* `Women`然后拖放与“*女人”*类型相关的所有元素。效果如下**

![image-20210206154732990](/imgs/mda/image-20210206154732990-163168903387058.png)

![image-20210206154747013](/imgs/mda/image-20210206154747013-163168903387059.png)

## ⑳、筛选器

![image-20210206170023215](/imgs/mda/image-20210206170023215-163168903387060.png)

![image-20210206170040457](/imgs/mda/image-20210206170040457-163168903387061.png)

![image-20210206170102123](/imgs/mda/image-20210206170102123-163168903387062.png)

![image-20210206170202877](/imgs/mda/image-20210206170202877-163168903387063.png)

## ㉑、验证规则

![image-20210206174323727](/imgs/mda/image-20210206174323727-163168903387064.png)

![image-20210206174425045](/imgs/mda/image-20210206174425045-163168903387065.png)

![image-20210206174530437](/imgs/mda/image-20210206174530437-163168903387066.png)

![image-20210206174605013](/imgs/mda/image-20210206174605013-163168903387067.png)

**验证效果如下**

![image-20210206174747226](/imgs/mda/image-20210206174747226-163168903387068.png)

## ㉒、快速修复（可以向用户提供*修复程序*，以自动解决问题）

**例如，上个问题，我们可以建议取消两个*父亲*关系之一。**

![image-20210206175927362](/imgs/mda/image-20210206175927362-163168903387069.png)

![image-20210206180019727](/imgs/mda/image-20210206180019727-163168903387070.png)

**效果如下**

![image-20210206181004915](/imgs/mda/image-20210206181004915-163168903387071.png)

![image-20210206181014905](/imgs/mda/image-20210206181014905-163168903387072.png)

## ㉓、以对象为中心的图

![image-20210206190703680](/imgs/mda/image-20210206190703680-163168903387073.png)

![image-20210206190718247](/imgs/mda/image-20210206190718247-163168903387074.png)

![image-20210206190743797](/imgs/mda/image-20210206190743797-163168903387075.png)

![image-20210206190808471](/imgs/mda/image-20210206190808471-163168903387076.png)

## ㉔、容器

![image-20210206191239137](/imgs/mda/image-20210206191239137-163168903387077.png)

<img src="/imgs/mda/image-20210206191301132-163168903387078.png" alt="image-20210206191301132" />

![image-20210206191354214](/imgs/mda/image-20210206191354214-163168903387079.png)

![image-20210206191410681](/imgs/mda/image-20210206191410681-163168903387080.png)

![image-20210206191425590](/imgs/mda/image-20210206191425590-163168903387081.png)

![image-20210206191443143](/imgs/mda/image-20210206191443143-163168903387082.png)

## ㉕、子节点

![image-20210206191624318](/imgs/mda/image-20210206191624318-163168903387084.png)

![image-20210206191645715](/imgs/mda/image-20210206191645715-163168903387083.png)

![image-20210206191705941](/imgs/mda/image-20210206191705941-163168903387085.png)

![image-20210206191842680](/imgs/mda/image-20210206191842680-163168903387086.png)

![image-20210206192255147](/imgs/mda/image-20210206192255147-163168903387087.png)

![image-20210206192327692](/imgs/mda/image-20210206192327692-163168903387088.png)

## ㉖、边界节点

![image-20210206192506920](/imgs/mda/image-20210206192506920-163168903387089.png)

![image-20210206192520236](/imgs/mda/image-20210206192520236-163168903387090.png)

![image-20210206193100867](/imgs/mda/image-20210206193100867-163168903387191.png)

## ㉗、容器之间的边线

![image-20210206193703685](/imgs/mda/image-20210206193703685-163168903387192.png)

![image-20210206193734119](/imgs/mda/image-20210206193734119-163168903387193.png)

![image-20210206193750201](/imgs/mda/image-20210206193750201-163168903387194.png)

![image-20210206193819842](/imgs/mda/image-20210206193819842-163168903387195.png)

## ㉘、Double Click

![image-20210206193907990](/imgs/mda/image-20210206193907990-163168903387196.png)

![image-20210206193935595](/imgs/mda/image-20210206193935595-163168903387197.png)

![image-20210206193955228](/imgs/mda/image-20210206193955228-163168903387198.png)

![image-20210206194011085](/imgs/mda/image-20210206194011085-163168903387199.png)

**效果如下**

![image-20210206195300282](/imgs/mda/image-20210206195300282-1631689033871100.png)

![image-20210206195321991](/imgs/mda/image-20210206195321991-1631689033871101.png)

## ㉙、表

![image-20210206195428111](/imgs/mda/image-20210206195428111-1631689033871102.png)

![image-20210206195446444](/imgs/mda/image-20210206195446444-1631689033871104.png)

![image-20210206195510094](/imgs/mda/image-20210206195510094-1631689033871103.png)

![image-20210206195524801](/imgs/mda/image-20210206195524801-1631689033871106.png)

![image-20210206200324025](/imgs/mda/image-20210206200324025-1631689033871105.png)

![image-20210206200339688](/imgs/mda/image-20210206200339688-1631689033871107.png)

![image-20210206200403891](/imgs/mda/image-20210206200403891-1631689033871108.png)

![image-20210206200420716](/imgs/mda/image-20210206200420716.png)
